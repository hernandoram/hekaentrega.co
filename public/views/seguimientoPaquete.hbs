<h3>My Google Maps Demo</h3>
<!--The div element for the map -->
<div>
    <div id="map" style="height: 400px; width: 100%"></div>
</div>

<!-- prettier-ignore -->
<script>
  (g=>{var h,a,k,p="The Google Maps JavaScript API",c="google",l="importLibrary",q="__ib__",m=document,b=window;b=b[c]||(b[c]={});var d=b.maps||(b.maps={}),r=new Set,e=new URLSearchParams,u=()=>h||(h=new Promise(async(f,n)=>{await (a=m.createElement("script"));e.set("libraries",[...r]+"");for(k in g)e.set(k.replace(/[A-Z]/g,t=>"_"+t[0].toLowerCase()),g[k]);e.set("callback",c+".maps."+q);a.src=`https://maps.${c}apis.com/maps/api/js?`+e;d[q]=f;a.onerror=()=>h=n(Error(p+" could not load."));a.nonce=m.querySelector("script[nonce]")?.nonce||"";m.head.append(a)}));d[l]?console.warn(p+" only loads once. Ignoring:",g):d[l]=(f,...n)=>r.add(f)&&u().then(()=>d[l](f,...n))})({
    key: "AIzaSyArtJn4h7sss3m_3RY2QcM7IZHvmaY43Kc",
    v: "weekly",
    // Use the 'v' parameter to indicate the version to use (weekly, beta, alpha, etc.).
    // Add other bootstrap parameters as needed, using camel case.
  });
</script>



<script>
    const objetoBaseSeguimiento = {
        id_user: "123",
        numerosGuia: [1,2,3],
        paquetes: [{
            order: 1,
            numeroGuia: 1
        }, {
            order: 2,
            numeroGuia: 2
        }, {
            order: 3,
            numeroGuia: 3
        }],
        coords: {
            "accuracy": 15.647,
            "latitude": 40.3241234,
            "longitude": -3.8632684,
            "altitude": null,
            "altitudeAccuracy": null,
            "heading": null,
            "speed": null
        },
        lastTimestamp: 1746642281325
    }
// Initialize and add the map
let map;

async function initMap() {
    const { Map } = await google.maps.importLibrary("maps");
    const { AdvancedMarkerElement, PinElement } = await google.maps.importLibrary("marker");

    map = new Map(document.getElementById("map"), {
        center: { lat: 37.434, lng: -122.082 }, // 4.7054987997362225, -74.10050257620084
        zoom: 10,
        mapId: "DEMO_MAP_ID"
    });

    const parser = new DOMParser();

    // A marker using a Font Awesome icon for the glyph.
    const icon = document.createElement('span');
    icon.innerHTML = '<i class="fa fa-house-user fa-lg"></i>';
    const faPin = new PinElement({
        glyph: icon,
        glyphColor: '#ff8300',
        background: '#FFD514',
        borderColor: '#ff8300',
    });

    const faMarker = new AdvancedMarkerElement({
        map,
        position: { lat: 37.412, lng: -122.095829650878 },
        content: faPin.element,
        title: 'A marker using a FontAwesome icon for the glyph.'
    });
    
    // A marker using a Font Awesome icon for the glyph.
    const image = document.createElement('img');
    image.setAttribute("width", 30);
    image.setAttribute("height", 30);
    image.src = 'https://cdn.dribbble.com/userupload/19482681/file/original-7e0abd2aced081af64442181403de6b8.gif';
    

    const gifMarker = new AdvancedMarkerElement({
        map,
        position: { lat: 37.412, lng: -122.295829650878 },
        content: image,
        title: 'A marker using a FontAwesome image for the glyph.'
    });


    // A marker with a custom SVG glyph.
    const glyphImg = document.createElement("img");
    glyphImg.width = 20;
    glyphImg.height = 20;

    glyphImg.src =
        "/img/logo-heka.png";

    const glyphSvgPinElement = new PinElement({
        glyph: glyphImg,
        glyphColor: '#ff8300',
        background: '#FFD514',
        borderColor: '#ff8300'
    });
    const glyphSvgMarkerView = new AdvancedMarkerElement({
        map,
        position: { lat: 37.425, lng: -122.07 },
        content: glyphSvgPinElement.element,
        title: "A marker using a custom SVG for the glyph.",
    });
}

initMap();

</script>